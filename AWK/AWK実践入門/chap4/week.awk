# week.awk	[4.3節]

# 曜日コード
function  week(y, m, d,   s, n)  {
  n[1]=31; n[2]=28; n[3]=31; n[4]=30;  n[5]=31;  n[6]=30
  n[7]=31; n[8]=31; n[9]=30; n[10]=31; n[11]=30; n[12]=31
  s = 5					# 1999年12月31日(金)
  y %= 400	 
  if ( y == 0 || ( y%4 == 0 && y%100 != 0 ) )  n[2]++   
  if ( y > 0 )  s += --y + int(y/4) - int(y/100) + int(y/400) +2
  while  (m > 1)  s += n[--m]
  return (s+d)%7
}

